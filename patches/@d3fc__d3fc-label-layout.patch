diff --git a/.vscode/settings.json b/.vscode/settings.json
new file mode 100644
index 0000000000000000000000000000000000000000..d27a9de49af367917f2d259165a49e951cef18dd
--- /dev/null
+++ b/.vscode/settings.json
@@ -0,0 +1,3 @@
+{
+	"nuxt.isNuxtApp": false
+}
\ No newline at end of file
diff --git a/index.js b/index.js
index 551a898243831ab690ab7633bfa7393e111ddb27..51954e0d01ab326a5cad4e83e7380e98c9656ac1 100644
--- a/index.js
+++ b/index.js
@@ -1,6 +1,6 @@
-export { default as layoutLabel } from './src/label';
-export { default as layoutTextLabel } from './src/textLabel';
-export { default as layoutGreedy } from './src/greedy';
-export { default as layoutAnnealing } from './src/annealing';
-export { default as layoutRemoveOverlaps } from './src/removeOverlaps';
-export { default as layoutBoundingBox } from './src/boundingBox';
+export { default as layoutLabel } from './src/label.js';
+export { default as layoutTextLabel } from './src/textLabel.js';
+export { default as layoutGreedy } from './src/greedy.js';
+export { default as layoutAnnealing } from './src/annealing.js';
+export { default as layoutRemoveOverlaps } from './src/removeOverlaps.js';
+export { default as layoutBoundingBox } from './src/boundingBox.js';
diff --git a/package.json b/package.json
index fb25a7a668832d196b9bcfc7d9a00d62e864a6b9..f3f7758753955b5af1f783a37664306a32ca2a4b 100644
--- a/package.json
+++ b/package.json
@@ -10,8 +10,9 @@
         "layout"
     ],
     "homepage": "https://github.com/d3fc/d3fc",
-    "main": "build/d3fc-label-layout.js",
-    "module": "index",
+    "main": "./index.js",
+    "module": "./index.js",
+    "type": "module",
     "repository": {
         "type": "git",
         "url": "https://github.com/d3fc/d3fc"
diff --git a/src/annealing.js b/src/annealing.js
index 81098549bd4a64e2f1ec2f1fc1c5e9f706e783f4..e9d4b9cd4f0868fa6f213bca5b3d7dab27a2c6e9 100644
--- a/src/annealing.js
+++ b/src/annealing.js
@@ -1,7 +1,7 @@
-import { collisionArea } from './util/collision';
-import intersect from './util/intersect';
-import placements from './util/placements';
-import layout from './util/layout';
+import { collisionArea } from './util/collision.js';
+import intersect from './util/intersect.js';
+import placements from './util/placements.js';
+import layout from './util/layout.js';
 
 const randomItem = (array) => array[randomIndex(array)];
 
diff --git a/src/greedy.js b/src/greedy.js
index c3b8e6c024583636ddb6c4e915ad6452125139f6..fb2b5b9937e3a35e67fa053aa5433e98a386347b 100644
--- a/src/greedy.js
+++ b/src/greedy.js
@@ -1,7 +1,7 @@
-import { collisionArea } from './util/collision';
-import intersect from './util/intersect';
-import placements from './util/placements';
-import layout from './util/layout';
+import { collisionArea } from './util/collision.js';
+import intersect from './util/intersect.js';
+import placements from './util/placements.js';
+import layout from './util/layout.js';
 
 export default () => {
 
diff --git a/src/label.js b/src/label.js
index 6409946f83a859d7b6e22c1d27906c5230eb8c26..4220c52f4ede0e7dfc3e03d9edb5651458233674 100644
--- a/src/label.js
+++ b/src/label.js
@@ -1,6 +1,6 @@
 import { select } from 'd3-selection';
 import { scaleIdentity } from 'd3-scale';
-import functor from './util/functor';
+import functor from './util/functor.js';
 import { dataJoin as dataJoinUtil } from '@d3fc/d3fc-data-join';
 import { include, rebindAll } from '@d3fc/d3fc-rebind';
 
diff --git a/src/removeOverlaps.js b/src/removeOverlaps.js
index 7b9fb3de9dae85f6c518da803937678c62a10e07..6ae0b422f4e6a9b17746b5b6d7c6c12f8198ad77 100644
--- a/src/removeOverlaps.js
+++ b/src/removeOverlaps.js
@@ -1,32 +1,35 @@
-import { rebindAll } from '@d3fc/d3fc-rebind';
-import { scan } from 'd3-array';
-import { collisionArea } from './util/collision';
+import { rebindAll } from "@d3fc/d3fc-rebind";
+import { scan } from "d3-array";
+import { collisionArea } from "./util/collision.js";
 
 const scanForObject = (array, comparator) => array[scan(array, comparator)];
 
 export default (adaptedStrategy) => {
+	adaptedStrategy = adaptedStrategy || ((x) => x);
 
-    adaptedStrategy = adaptedStrategy || ((x) => x);
-
-    const removeOverlaps = (layout) => {
-        layout = adaptedStrategy(layout);
-        // eslint-disable-next-line no-constant-condition
-        while (true) {
-            // find the collision area for all overlapping rectangles, hiding the one
-            // with the greatest overlap
-            const visible = layout.filter((d) => !d.hidden);
-            const collisions = visible.map((d, i) => [d, collisionArea(visible, i)]);
-            const maximumCollision = scanForObject(collisions, (a, b) => b[1] - a[1]);
-            if (maximumCollision[1] > 0) {
-                maximumCollision[0].hidden = true;
-            } else {
+	const removeOverlaps = (layout) => {
+		layout = adaptedStrategy(layout);
+		// eslint-disable-next-line no-constant-condition
+		while (true) {
+			// find the collision area for all overlapping rectangles, hiding the one
+			// with the greatest overlap
+			const visible = layout.filter((d) => !d.hidden);
+			const collisions = visible.map((d, i) => [d, collisionArea(visible, i)]);
+			const maximumCollision = scanForObject(collisions, (a, b) => b[1] - a[1]);
+			if (maximumCollision) {
+				if (maximumCollision[1] > 0) {
+					maximumCollision[0].hidden = true;
+				} else {
+					break;
+				}
+			} else {
                 break;
             }
-        }
-        return layout;
-    };
+		}
+		return layout;
+	};
 
-    rebindAll(removeOverlaps, adaptedStrategy);
+	rebindAll(removeOverlaps, adaptedStrategy);
 
-    return removeOverlaps;
+	return removeOverlaps;
 };
diff --git a/src/textLabel.js b/src/textLabel.js
index e01bfc80cf1ef0d53ec34a6644d17689a7ed94bf..381d1cf10fa38671127917073eb4c373ec0c0e39 100644
--- a/src/textLabel.js
+++ b/src/textLabel.js
@@ -1,5 +1,5 @@
 import { select } from 'd3-selection';
-import functor from './util/functor';
+import functor from './util/functor.js';
 import { dataJoin as dataJoinUtil } from '@d3fc/d3fc-data-join';
 
 export default (layoutStrategy) => {
diff --git a/src/util/collision.js b/src/util/collision.js
index b905dadb3578c662a2170c0ab14c1f55822ecd47..4facba9c691e6354de26a81a9e1b5a5e2fd45e1e 100644
--- a/src/util/collision.js
+++ b/src/util/collision.js
@@ -1,5 +1,5 @@
 import { sum } from 'd3-array';
-import intersect from './intersect';
+import intersect from './intersect.js';
 
 // computes the area of overlap between the rectangle with the given index with the
 // rectangles in the array
diff --git a/test/annealingSpec.js b/test/annealingSpec.js
index 903ee9e50d61eb96075be860c8bcc80691fff633..bff48f6f656c17ae9fb3997948d411042da28106 100644
--- a/test/annealingSpec.js
+++ b/test/annealingSpec.js
@@ -1,4 +1,4 @@
-import annealing from '../src/annealing';
+import annealing from '../src/annealing.js';
 
 describe('annealing', () => {
 
diff --git a/test/greedySpec.js b/test/greedySpec.js
index f825108bab6708ef069da6cdb67bf9e645a4043b..1c635cfc6d993bcfcc4a22ab4842ff3ca784967d 100644
--- a/test/greedySpec.js
+++ b/test/greedySpec.js
@@ -1,4 +1,4 @@
-import greedy from '../src/greedy';
+import greedy from '../src/greedy.js';
 
 describe('greedy', () => {
 
diff --git a/test/intersectSpec.js b/test/intersectSpec.js
index ade7a8e195204437fe154e84c10f5c0be7ac76d4..181112c656362f186b051abae9fc37fb55a33c44 100644
--- a/test/intersectSpec.js
+++ b/test/intersectSpec.js
@@ -1,4 +1,4 @@
-import intersect from '../src/util/intersect';
+import intersect from '../src/util/intersect.js';
 
 describe('intersect', () => {
 
diff --git a/test/labelSpec.js b/test/labelSpec.js
index e956889f75f14c1bf6edfff87ba9e3c91a132e2c..eab4c8a56b585e5be94812d35425705723414b67 100644
--- a/test/labelSpec.js
+++ b/test/labelSpec.js
@@ -1,6 +1,6 @@
 import { select } from 'd3-selection';
-import label from '../src/label';
-import removeOverlaps from '../src/removeOverlaps';
+import label from '../src/label.js';
+import removeOverlaps from '../src/removeOverlaps.js';
 
 describe('label', () => {
 
diff --git a/test/removeOverlapsSpec.js b/test/removeOverlapsSpec.js
index 4308771fe2bcef86b30836bdc692d832ab274d39..04af8b92a3d24ef14a21592c09df75192c051d0d 100644
--- a/test/removeOverlapsSpec.js
+++ b/test/removeOverlapsSpec.js
@@ -1,4 +1,4 @@
-import removeOverlaps from '../src/removeOverlaps';
+import removeOverlaps from '../src/removeOverlaps.js';
 
 describe('removeOverlaps', () => {
 
